{"output":"Para cada caso de teste, você deve imprimir uma única linha contendo um número inteiro, representando o lucro máximo que a GigaFarma pode obter a partir de uma cadeia de DNA produzível e alienígena. Se nenhum lucro é positivo, você deve imprimir o valor 0. Se o lucro pode ser arbitrariamente grande, você deve imprimir um asterisco '*'.","input":"Cada caso de teste é descrito usando várias linhas. A primeira linha contém dois números inteiros G e P, representando o número de genes no catálogo e o número de partes que a GigaFarma pode produzir (1 ≤ L, P ≤ 100).\r\n\r\n                    Cada uma das seguintes G linhas descrevem um gene diferente, usando uma string S e um número inteiro V. A string S tem entre 1 e 10 caracteres, e é formada exclusivamente por letras minúsculas representando as bases que formam este gene; o número inteiro V representa o valor desse gene (1 ≤ V ≤ 1000).\r\n\r\n                    Cada uma das P linhas seguintes descrevem uma parte diferente do DNA, usando uma string T e um inteiro C. A string T tem entre 1 e 30 caracteres, e é composta de apenas letras minúsculas e hifens, respectivamente representando as bases e as conexões nesta parte. T contém pelo menos uma conexão, mas nunca terá conexões iniciais, finais ou consecutivos. O inteiro C representa o custo de produção para a parte correspondente (1 ≤ C ≤ 1000).\r\n\r\n                    Note que em todos os casos de teste, todos os genes são diferentes um dos outros, e todas as partes também são diferentes uma da outra. O fim da entrada é indicado por uma linha que contém duas vezes o número -1.","level":10,"name":"Gerando DNA Alienígena","has_images":true,"description":"GigaFarma é uma das maiores empresas farmacêuticas do mundo, e está atualmente conduzindo experimentos usando DNA alienígena. Seu objetivo é produzir uma cadeia de DNA alienígena que irá resultar no maior lucro possível quando comercializado.\r\n\r\n                    Uma cadeia de DNA estranho pode ser entendida como uma sequência não vazia de genes ligados, e por sua vez, cada gene é uma sequência não vazia de bases. Devido ao fato que nem todas as sequências possíveis de bases corresponde a um gene válido, a GigaFarma criou um catálogo de genes que aparecem no DNA alienígena, que são as únicas consideradas sequências válidas de bases. Cada um destes genes tem um valor de acordo com a sua funcionalidade, e uma dada cadeia de DNA alienígena tem um valor de mercado que é a soma dos valores dos genes que o compõem.\r\n\r\n                    Vamos representar as diferentes bases com letras minúsculas, 'a' - 'z', e as ligações usando um hífen \"-\". No exemplo a seguir, podemos ver na esquerda uma possível lista de genes e seus valores correspondentes; à direita há algumas cadeias de DNA alienígena que podem ser formados com esses genes, juntamente com os seus correspondentes valores de mercado.\r\n\r\n                    \r\n\r\n                    GigaFarma só pode produzir cadeias de DNA muito específicas, que chamamos de produzível. Estas cadeias são uma sequência não vazia de partes de DNA que a empresa pode sintetizar, unidas sem quaisquer ligações adicionais entre eles. Cada parte é uma sequência de bases e conexões que contenham pelo menos uma conexão, mas sem quaisquer ligações consecutivas, iniciais ou finais. Cada parte tem um custo, determinado pela dificuldade associada com a sua produção, de modo que cada cadeia produzível de DNA tem um custo de produção que é a soma dos custos de cada uma das partes que o compõem. No exemplo a seguir, podemos ver na esquerda uma lista de partes de DNA e os seus custos; do lado direito, temos algumas cadeias produzíveis de DNA que podem ser formadas com essas partes, juntamente com os seus custos de produção.\r\n\r\n                    \r\n\r\n                    Note que pode haver várias maneiras de formar uma mesma cadeia produzível usando diferentes partes. Este é o caso de \"como-como-les\" no exemplo, que pode ser obtido usando porções \"como-co\" e \"mo-les\" com um custo de produção de 7, ou simplesmente usando \"como-como-les\" com um custo de produção de 12. É claro que, quando existe mais de uma maneira de sintetizar uma determinada cadeia produzível de DNA, GigaFarma sempre faz usando o processo mais barato possível.\r\n\r\n                    Claramente, o conjunto de cadeias de DNA alienígena é infinito, assim como o conjunto de cadeias de DNA produzíveis. No entanto, a GigaFarma não está interessada em nenhum destes conjuntos, mas na sua intersecção. Se verificar os exemplos anteriores, podemos ver que \"como-les\" é uma cadeia de DNA alienígena válida, mas não é produzível, \"mo-les\" é produzível, mas não é uma cadeia de DNA alienígena, e \"como-como-les\" é produzível e uma cadeia de DNA alienígena.\r\n\r\n                    Para cada cadeia de DNA alienígena e produzível, a empresa pode comercializar essa cadeia para obter um lucro que equivale ao valor dessa cadeia menos o seu custo de produção do mercado. É claro que, se este lucro não é positivo, a cadeia correspondente nunca será produzida. Por existir muito material genético em todo o lugar, GigaFarma pagaria qualquer coisa para saber o lucro máximo que ela pode obter por algumas cadeias de DNA produzível e alienígena.","id":"2038","category":"Grafos","statistics":{"level":"10 / 10","submissions":172,"solved":9,"ratio":"5.23%"}}