{"output":"Para cada instância imprima -1, se não é possível transformar o canal fechado no aberto, ou o menor índice do vértice do canal fechado que coincide com primeiro vértice do canal aberto após a transformação.","input":"A entrada é composta por diversas instâncias e termina com final de arquivo (EOF).\n\n                    A primeira linha de cada instância contém dois inteiros Nf (3 ≤ Nf ≤ 20.000) e Na (2 ≤ Na ≤ 5.000), correspondendo ao número de vértices dos canais fechado e aberto, respectivamente. A linha seguinte contém Nf pares de inteiros (xi , yi) (−10.000 ≤ x, y ≤ 10.000), cada par representando a coordenada de um vértice do canal fechado. No canal fechado a água sempre flui no sentido anti-horário e os vértices são númerados de 1 a Nf . A terceira e última linha contém Na pares de inteiros (xi , yi) correspondendo aos vértices do canal aberto.","level":10,"name":"Canais de Qanat","has_images":true,"description":"A medina de Marrakech é formada pela cidade fortificada, patrimônio universal da Unesco desde 1995. O início de sua construção remonta à fundação da cidade no século XI e inclui vários monumentos impressionantes, como a mesquita de Koutoubia, madraçal de Ben Youssef, e o Palácio Bahia. Várias histórias cercam os monumentos que formam a medina. A mais interessante diz respeito os jardins Ménara. O parque tem hortas e lagos artificiais construídos na época do sultão. Abd-el-Rhaman, que era um apaixonado por desafios matemáticos. Um dos mais brilhantes é o dos conjuntos de canais de qanat (قناة). Cada conjunto é formado por um canal fechado e um canal aberto. O canal fechado tem o formato de um polígono e o canal aberto consiste de uma sequência de arestas formando um caminho. O desafio é determinar se é possível transformar o canal fechado no canal aberto através de operações mentais sobre o canal fechado, como de remoção de vértices e arestas, translações e rotações (no plano).\n\n                    Os canais são dados através das coordenadas dos seus vértices e a ordem na qual os vértices são dados indica o sentido do fluxo de água. Consideramos que é possível transformar o canal fechado no aberto se após a aplicação das operações, o canal resultante tem as mesmas coordenadas e a água flui no mesmo sentido.\n\n                    \n\n                    Figura 1. Ilustração primeiro (esq.) e segundo (dir.) exemplos de entrada.","id":"1603","category":"Paradigmas","statistics":{"level":"10 / 10","submissions":44,"solved":10,"ratio":"22.73%"}}