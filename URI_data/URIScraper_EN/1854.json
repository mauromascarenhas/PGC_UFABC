{"output":"For each day of the winter, ended in the input by a five integer line, print a line containing the number of the day and the number of possibilities for the distribution of the carrots among the snowmen at the delimited area. Consider that the counting of the days starts in 1. As the number of possibilities can be very large, print only the remainder that this value leaves when divided by 109 + 7. The input and output sample clarify further details about the output format.","input":"The input describes, in sequence, all events that happened during the winter under the shadow of the walls of Winterfell and consists of at most 105 lines. The first line of the input consists of two integers: N and M (1 ≤ N, M ≤ 103), which represent the dimensions of the Town. Each one of the following lines describes an event, characterised by the number of integers present in the line:\n\n\n\tif the line consists of three integers, X, Y and B (1 ≤ X ≤ N, 1 ≤ Y ≤ M, 1 ≤ B ≤ 100), it means that a child has built B snowmen at the position in the Town of coordinates (X, Y);\n\tif the line consists of two integers, X and Y (1 ≤ X ≤ N, 1 ≤ Y ≤ M), it means that a child has destroyed all snowmen at the position of coordinates (X, Y);\n\tif the line consists of five integers, X1, Y1, X2, Y2 and C (1 ≤ X1 ≤ X2 ≤ N, 1 ≤ Y1 ≤ Y2 ≤ M, 1 ≤ C ≤ 103), it means that the king has awarded C identical carrots to be distributed among the snowmen built inside the rectangular-shaped region defined by the positions of coordinates (X1, Y1) and (X2, Y2), marking the end of a day.\n\n\nThe last line of the input is always a five integer line.","level":9,"name":"Winter in Winterfell","has_images":false,"description":"One afternoon, in the Winter Town, just outside the gates of Winterfell castle, children started to build snowmen, for the joy and the amusement of the plebs who were negotiating at the market. The snowmen were becoming adorable, except for a detail: none of them had a nose, since the only carrots now remaining in Westeros were in House Stark's royal larder. The king, touched, decided to give some of his carrots away so they could be distributed in rectangular-shaped regions of the Town. But the children of Westeros are greedy and do not mind putting several noses on their snowmen, no matter if other children end up with no noses to put on their snowmen. For example, if the king assigns 2 identical carrots to a region in which there are 3 snowmen, a, b and c, there are 6 possibilities to the distribution of these carrots among the snowmen after the children have stopped fighting against each other:\n\n\n\ta ends up with 2 noses and b and c with none;\n\ta and b ends up with 1 nose each and c with none;\n\ta and c ends up with 1 nose each and a with none;\n\tb ends up with 2 noses and a and c with none;\n\tb and c ends up with 1 nose each and a with none;\n\tc ends up with 2 noses and a and b with none.\n\n\nNoticing that the fights among the children were leading a considerable number of them to death, and worrying about the future of the kingdom's population, the king decided to choose only one rectangular-shaped region per day, so that the distribution of the carrots were made always at the end of the day, when all the snowmen had already been built. It is not allowed to the children using carrots for snowmen out of the awarded region of the day, not even to take carrots home in order to use them in the next day. The king also commanded that, as soon as the night has fallen and the children have been gone, an officer should recover all the carrots, leaving however the snowmen intact. By the way, the snowmen built by the children of Westeros are very resistant, being able to stand through the whole winter, unless they are intentionally destroyed by other child.","id":"1854","category":"Data Structures and Libraries","statistics":{"level":"9 / 10","submissions":483,"solved":102,"ratio":"21.12%"}}